(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["mapPromisify"]=n():e["mapPromisify"]=n()})(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){"use strict";t.r(n);var r={setCenter:{events:[{name:"moveend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter()}}},panBy:{events:[{name:"moveend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter()}}},panTo:{events:[{name:"moveend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter()}}},setZoom:{events:[{name:"zoomend",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},zoomTo:{events:[{name:"zoomend",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},zoomIn:{events:[{name:"zoomend",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},zoomOut:{events:[{name:"zoomend",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},setBearing:{events:[{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}}},rotateTo:{events:[{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}},check:function(e){return!0}},resetNorth:{events:[{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}},check:function(e){return!0}},snapToNorth:{events:[{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}}},setPitch:{events:[{name:"pitchend",check:function(e){return!0}}],getter:function(e){return{pitch:e.getPitch()}}},fitBounds:{events:[{name:"",check:function(e){return!0}}],getter:function(e){return{}}},fitScreenCoordinates:{events:[{name:"",check:function(e){return!0}}],getter:function(e){return{}}},jumpTo:{events:[{name:"moveend",check:function(e){return e.isMoving()}},{name:"zoomend",check:function(e){return e.isZooming()}},{name:"rotateend",check:function(e){return e.isRotating()}},{name:"pitchend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}},easeTo:{events:[{name:"moveend",check:function(e){return e.isMoving()}},{name:"zoomend",check:function(e){return e.isZooming()}},{name:"rotateend",check:function(e){return e.isRotating()}},{name:"pitchend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}},flyTo:{events:[{name:"moveend",check:function(e){return e.isMoving()}},{name:"zoomend",check:function(e){return e.isZooming()}},{name:"rotateend",check:function(e){return e.isRotating()}},{name:"pitchend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}}};function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){c(e,n,t[n])})}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){return"".concat(e,"-").concat((""+Math.random()).split(".")[1])}function u(e,n,t,r){var o=function o(c){if(c.type===n&&c.eventId===t)return e.off(n,o),r(c)};return o}function f(e,n){var t=e[n],c=t.length;return function(){for(var f=[],a={eventId:i(n)},g=r[n].events.map(function(n,t){return{event:n,func:new Promise(function(r,o){f[t]={event:n,func:u(e,n.name,a.eventId,r)},e.on(n.name,f[t].func)})}}),m=[],s=0;s<c;s++)s===c-1?m.push(o({},a,(s<0||arguments.length<=s?void 0:arguments[s])||{})):m.push((s<0||arguments.length<=s?void 0:arguments[s])||null);var v=[];try{t.apply(e,m),v=g.map(function(n){var t=n.event,r=n.func;return t.check(e)?r:(e.off(t.name,r),Promise.resolve())})}catch(d){throw f.forEach(function(n){var t=n.event,r=n.func;e.off(t.name,r)}),d}return Promise.all(v).then(function(){return r[n].getter(e)})}}var a=f,g=function(e){var n=Object.keys(r),t={};return n.forEach(function(r){-1!==n.indexOf(r)&&(t[r]=a(e,r))}),t};function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?a(e,n):g(e)}t.d(n,"default",function(){return m})}])["default"]});