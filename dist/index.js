(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["mapPromisify"]=n():e["mapPromisify"]=n()})(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){"use strict";t.r(n);var r=[{name:"moveend",check:function(e,n){return n.center&&e.isMoving()}},{name:"zoomend",check:function(e,n){return void 0!==n.zoom&&null!==n.zoom&&e.isZooming()}},{name:"rotateend",check:function(e,n){return void 0!==n.bearing&&null!==n.bearing&&e.isRotating()}},{name:"pitchend",check:function(e,n){return void 0!==n.pitch&&null!==n.bearing&&e.isMoving()}}],o=function(e){return{center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}},u={events:r,getter:o},i={events:[{name:"moveend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter()}}},c={events:[{name:"zoomend",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},f={events:[{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}}},a={setCenter:i,panBy:i,panTo:i,setZoom:c,zoomTo:c,zoomIn:c,zoomOut:c,setBearing:f,rotateTo:f,resetNorth:f,snapToNorth:f,setPitch:{events:[{name:"pitchend",check:function(e){return!0}}],getter:function(e){return{pitch:e.getPitch()}}},fitBounds:{events:[{name:"",check:function(e){return!0}}],getter:function(e){return{}}},fitScreenCoordinates:{events:[{name:"",check:function(e){return!0}}],getter:function(e){return{}}},jumpTo:u,easeTo:u,flyTo:u};function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){s(e,n,t[n])})}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){return"".concat(e,"-").concat((""+Math.random()).split(".")[1])}function p(e,n,t,r){var o=function o(u){u.type===n&&u.eventId===t&&(e.off(n,o),r(u))};return o}function d(e,n){var t=e[n],r=t.length;return function(){for(var o=[],u={eventId:m(n)},i=a[n].events.map(function(n,t){return{event:n,func:new Promise(function(r,i){o[t]={event:n,func:p(e,n.name,u.eventId,r)},e.on(n.name,o[t].func)})}}),c=[],f=0;f<r;f++)f===r-1?c.push(l({},u,(f<0||arguments.length<=f?void 0:arguments[f])||{})):c.push((f<0||arguments.length<=f?void 0:arguments[f])||null);var s=[],d=(arguments.length<=0?void 0:arguments[0])||{};try{t.apply(e,c),s=i.map(function(n){var t=n.event,r=n.func;return t.check(e,d)?r:(e.off(t.name,r),Promise.resolve())})}catch(v){throw o.forEach(function(n){var t=n.event,r=n.func;e.off(t.name,r)}),v}return Promise.all(s).then(function(){return a[n].getter(e)})}}var v=d,g=function(e){var n=Object.keys(a),t={};return n.forEach(function(r){-1!==n.indexOf(r)&&(t[r]=v(e,r))}),t};function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?v(e,n):g(e)}t.d(n,"default",function(){return h})}])["default"]});